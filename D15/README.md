# **--- Día 15: Zona de exclusión de baliza ---**

> https://adventofcode.com/2022/day/15

Sientes que el suelo vuelve a retumbar cuando la señal de socorro te conduce a una gran red de túneles subterráneos. No tienes tiempo de registrarlos todos, pero no te hace falta: tu mochila contiene un conjunto de **sensores** desplegables que imaginas que se construyeron originalmente para localizar elfos perdidos.

Los sensores no son muy potentes, pero no importa; tu dispositivo portátil indica que estás lo suficientemente cerca de la fuente de la señal de socorro como para utilizarlos. Sacas el sistema de sensores de emergencia de tu mochila, pulsas el gran botón de la parte superior y los sensores se alejan por los túneles.

Una vez que un sensor encuentra un lugar que cree que le dará una buena lectura, se adhiere a una superficie dura y comienza a monitorizar la **baliza** de la fuente de señal más cercana. Los sensores y las balizas existen siempre en coordenadas enteras. Cada sensor conoce su propia posición y puede **determinar la posición de una baliza con precisión**; sin embargo, los sensores sólo pueden fijarse en la baliza **más cercana al sensor** medida por la [distancia Manhattan](https://es.wikipedia.org/wiki/Geometr%C3%ADa_del_taxista). (Nunca hay un empate en el que dos balizas estén a la misma distancia de un sensor).

Los sensores no tardan mucho en informar de sus posiciones y de las balizas más cercanas (su entrada en el puzzle). Por ejemplo:

```
Sensor at x=2, y=18: closest beacon is at x=-2, y=15
Sensor at x=9, y=16: closest beacon is at x=10, y=16
Sensor at x=13, y=2: closest beacon is at x=15, y=3
Sensor at x=12, y=14: closest beacon is at x=10, y=16
Sensor at x=10, y=20: closest beacon is at x=10, y=16
Sensor at x=14, y=17: closest beacon is at x=10, y=16
Sensor at x=8, y=7: closest beacon is at x=2, y=10
Sensor at x=2, y=0: closest beacon is at x=2, y=10
Sensor at x=0, y=11: closest beacon is at x=2, y=10
Sensor at x=20, y=14: closest beacon is at x=25, y=17
Sensor at x=17, y=20: closest beacon is at x=21, y=22
Sensor at x=16, y=7: closest beacon is at x=15, y=3
Sensor at x=14, y=3: closest beacon is at x=15, y=3
Sensor at x=20, y=1: closest beacon is at x=15, y=3
```

Así, consideremos el sensor situado en `2,18`; la baliza más cercana a él está en `-2,15`. Para el sensor situado en `9,16`, la baliza más cercana está en `10,16`.

Dibujando los sensores como `S` y las balizas como `B`, la disposición anterior de sensores y balizas tiene el siguiente aspecto:

```
               1    1    2    2
     0    5    0    5    0    5
 0 ....S.......................
 1 ......................S.....
 2 ...............S............
 3 ................SB..........
 4 ............................
 5 ............................
 6 ............................
 7 ..........S.......S.........
 8 ............................
 9 ............................
10 ....B.......................
11 ..S.........................
12 ............................
13 ............................
14 ..............S.......S.....
15 B...........................
16 ...........SB...............
17 ................S..........B
18 ....S.......................
19 ............................
20 ............S......S........
21 ............................
22 .......................B....
```

Sin embargo, no se trata necesariamente de un mapa exhaustivo de todas las balizas de la zona. Dado que cada sensor sólo identifica su baliza más cercana, si un sensor detecta una baliza, se sabe que no hay otras balizas tan cerca o más cerca de ese sensor. Puede haber balizas que no sean las más cercanas a ningún sensor. Considera el sensor en `8,7`:

```
               1    1    2    2
     0    5    0    5    0    5
-2 ..........#.................
-1 .........###................
 0 ....S...#####...............
 1 .......#######........S.....
 2 ......#########S............
 3 .....###########SB..........
 4 ....#############...........
 5 ...###############..........
 6 ..#################.........
 7 .#########S#######S#........
 8 ..#################.........
 9 ...###############..........
10 ....B############...........
11 ..S..###########............
12 ......#########.............
13 .......#######..............
14 ........#####.S.......S.....
15 B........###................
16 ..........#SB...............
17 ................S..........B
18 ....S.......................
19 ............................
20 ............S......S........
21 ............................
22 .......................B....
```

La baliza más cercana de este sensor está en `2,10`, y así sabes que no hay balizas tan cerca o más cerca (en ninguna de las posiciones marcadas con `#`).

Ninguna de las balizas detectadas parece producir la señal de socorro, así que tendrás que averiguar dónde está la baliza de socorro averiguando **dónde no está**. Por ahora, simplifica las cosas contando las posiciones en las que no es posible que haya una baliza a lo largo de una sola fila.

Supongamos que tenemos una disposición de balizas y sensores como en el ejemplo anterior y, justo en la fila en la que `y=10`, queremos contar el número de posiciones en las que es imposible que haya una baliza. La cobertura de todos los sensores cerca de esa fila se parece a esto:

```
                 1    1    2    2
       0    5    0    5    0    5
 9 ...#########################...
10 ..####B######################..
11 .###S#############.###########.
```

En este ejemplo, en la fila en la que `y=10`, hay **`26`** posiciones en las que no puede haber una baliza.

Consulte el informe de los sensores que acaba de desplegar. **En la fila donde `y=2000000`, ¿cuántas posiciones no pueden contener una baliza?**

## __--- Segunda parte ---__

Tu dispositivo portátil indica que la señal de socorro procede de una baliza cercana. La baliza de socorro no es detectada por ningún sensor, pero la baliza de socorro debe tener coordenadas `x` e `y` cada una no inferior a `0` ni superior a `4000000`.

Para aislar la señal de la baliza de socorro, es necesario determinar su __frecuencia de sintonización__, que se puede encontrar multiplicando su coordenada `x` por `4000000` y luego añadiendo su coordenada `y`.

En el ejemplo anterior, el espacio de búsqueda es menor: en su lugar, las coordenadas `x` e `y` pueden ser como máximo `20` cada una. Con este espacio de búsqueda reducido, sólo hay una única posición que podría tener una baliza: `x=14, y=11`. La frecuencia de sintonización de esta baliza de socorro es __`56000011`__.

Encuentra la única posición posible para la baliza de socorro. __¿Cuál es su frecuencia de sintonización?__